<!doctype html><html lang=fa dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>گیت چطور فایل‌ها رو ذخیره می‌کنه؟ | SYN Packet</title><meta name=keywords content><meta name=description content="جواب کوتاه
گیت فایل‌ها رو بر اساس محتواشون ذخیره میکنه و تا زمانی که فایل تغییر نکرده، نسخه‌ی ذخیره‌شده توسط گیت ثابت میمونه.
جواب بلند
اول کار که شما دستور git init رو اجرا می‌کنید، گیت داخل پوشه‌ی جاری یه فولدر .git می‌سازه که محتویاتش اینه:
[meysampg@freedom git]$ git init
Initialized empty Git repository in /srv/http/test/git/.git/
[meysampg@freedom git]$ ls -lah .git
total 40K
drwxr-xr-x 7 meysampg users 4.0K Mar 10 11:07 .
drwxr-xr-x 3 meysampg users 4.0K Mar 10 11:07 ..
drwxr-xr-x 2 meysampg users 4.0K Mar 10 11:07 branches
-rw-r--r-- 1 meysampg users   92 Mar 10 11:07 config
-rw-r--r-- 1 meysampg users   73 Mar 10 11:07 description
-rw-r--r-- 1 meysampg users   23 Mar 10 11:07 HEAD
drwxr-xr-x 2 meysampg users 4.0K Mar 10 11:07 hooks
drwxr-xr-x 2 meysampg users 4.0K Mar 10 11:07 info
drwxr-xr-x 4 meysampg users 4.0K Mar 10 11:07 objects
drwxr-xr-x 4 meysampg users 4.0K Mar 10 11:07 refs
چیزی که جواب سوال بالاست در پوشه‌ی objects نهفته‌ست."><meta name=author content="میثم پورگنجی"><link rel=canonical href=https://pourganji.ir/fa/blog/how-git-store-files/><link crossorigin=anonymous href=/assets/css/stylesheet.08adf2567374f56b418b6d9def7cf035ddeac85489b04c1b33e4c716e37f833f.css integrity="sha256-CK3yVnN09WtBi22d73zwNd3qyFSJsEwbM+THFuN/gz8=" rel="preload stylesheet" as=style><link rel=icon href=https://pourganji.ir/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://pourganji.ir/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://pourganji.ir/favicon-32x32.png><link rel=apple-touch-icon href=https://pourganji.ir/apple-touch-icon.png><link rel=mask-icon href=https://pourganji.ir/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=fa href=https://pourganji.ir/fa/blog/how-git-store-files/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><meta property="og:url" content="https://pourganji.ir/fa/blog/how-git-store-files/"><meta property="og:site_name" content="SYN Packet"><meta property="og:title" content="گیت چطور فایل‌ها رو ذخیره می‌کنه؟"><meta property="og:description" content="جواب کوتاه گیت فایل‌ها رو بر اساس محتواشون ذخیره میکنه و تا زمانی که فایل تغییر نکرده، نسخه‌ی ذخیره‌شده توسط گیت ثابت میمونه.
جواب بلند اول کار که شما دستور git init رو اجرا می‌کنید، گیت داخل پوشه‌ی جاری یه فولدر .git می‌سازه که محتویاتش اینه:
[meysampg@freedom git]$ git init Initialized empty Git repository in /srv/http/test/git/.git/ [meysampg@freedom git]$ ls -lah .git total 40K drwxr-xr-x 7 meysampg users 4.0K Mar 10 11:07 . drwxr-xr-x 3 meysampg users 4.0K Mar 10 11:07 .. drwxr-xr-x 2 meysampg users 4.0K Mar 10 11:07 branches -rw-r--r-- 1 meysampg users 92 Mar 10 11:07 config -rw-r--r-- 1 meysampg users 73 Mar 10 11:07 description -rw-r--r-- 1 meysampg users 23 Mar 10 11:07 HEAD drwxr-xr-x 2 meysampg users 4.0K Mar 10 11:07 hooks drwxr-xr-x 2 meysampg users 4.0K Mar 10 11:07 info drwxr-xr-x 4 meysampg users 4.0K Mar 10 11:07 objects drwxr-xr-x 4 meysampg users 4.0K Mar 10 11:07 refs چیزی که جواب سوال بالاست در پوشه‌ی objects نهفته‌ست."><meta property="og:locale" content="fa-IR"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2018-03-10T19:03:34+03:30"><meta property="article:modified_time" content="2018-03-10T19:03:34+03:30"><meta name=twitter:card content="summary"><meta name=twitter:title content="گیت چطور فایل‌ها رو ذخیره می‌کنه؟"><meta name=twitter:description content="جواب کوتاه
گیت فایل‌ها رو بر اساس محتواشون ذخیره میکنه و تا زمانی که فایل تغییر نکرده، نسخه‌ی ذخیره‌شده توسط گیت ثابت میمونه.
جواب بلند
اول کار که شما دستور git init رو اجرا می‌کنید، گیت داخل پوشه‌ی جاری یه فولدر .git می‌سازه که محتویاتش اینه:
[meysampg@freedom git]$ git init
Initialized empty Git repository in /srv/http/test/git/.git/
[meysampg@freedom git]$ ls -lah .git
total 40K
drwxr-xr-x 7 meysampg users 4.0K Mar 10 11:07 .
drwxr-xr-x 3 meysampg users 4.0K Mar 10 11:07 ..
drwxr-xr-x 2 meysampg users 4.0K Mar 10 11:07 branches
-rw-r--r-- 1 meysampg users   92 Mar 10 11:07 config
-rw-r--r-- 1 meysampg users   73 Mar 10 11:07 description
-rw-r--r-- 1 meysampg users   23 Mar 10 11:07 HEAD
drwxr-xr-x 2 meysampg users 4.0K Mar 10 11:07 hooks
drwxr-xr-x 2 meysampg users 4.0K Mar 10 11:07 info
drwxr-xr-x 4 meysampg users 4.0K Mar 10 11:07 objects
drwxr-xr-x 4 meysampg users 4.0K Mar 10 11:07 refs
چیزی که جواب سوال بالاست در پوشه‌ی objects نهفته‌ست."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blogs","item":"https://pourganji.ir/fa/blog/"},{"@type":"ListItem","position":2,"name":"گیت چطور فایل‌ها رو ذخیره می‌کنه؟","item":"https://pourganji.ir/fa/blog/how-git-store-files/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"گیت چطور فایل‌ها رو ذخیره می‌کنه؟","name":"گیت چطور فایل‌ها رو ذخیره می‌کنه؟","description":"جواب کوتاه گیت فایل‌ها رو بر اساس محتواشون ذخیره میکنه و تا زمانی که فایل تغییر نکرده، نسخه‌ی ذخیره‌شده توسط گیت ثابت میمونه.\nجواب بلند اول کار که شما دستور git init رو اجرا می‌کنید، گیت داخل پوشه‌ی جاری یه فولدر .git می‌سازه که محتویاتش اینه:\n[meysampg@freedom git]$ git init Initialized empty Git repository in /srv/http/test/git/.git/ [meysampg@freedom git]$ ls -lah .git total 40K drwxr-xr-x 7 meysampg users 4.0K Mar 10 11:07 . drwxr-xr-x 3 meysampg users 4.0K Mar 10 11:07 .. drwxr-xr-x 2 meysampg users 4.0K Mar 10 11:07 branches -rw-r--r-- 1 meysampg users 92 Mar 10 11:07 config -rw-r--r-- 1 meysampg users 73 Mar 10 11:07 description -rw-r--r-- 1 meysampg users 23 Mar 10 11:07 HEAD drwxr-xr-x 2 meysampg users 4.0K Mar 10 11:07 hooks drwxr-xr-x 2 meysampg users 4.0K Mar 10 11:07 info drwxr-xr-x 4 meysampg users 4.0K Mar 10 11:07 objects drwxr-xr-x 4 meysampg users 4.0K Mar 10 11:07 refs چیزی که جواب سوال بالاست در پوشه‌ی objects نهفته‌ست.\n","keywords":[],"articleBody":"جواب کوتاه گیت فایل‌ها رو بر اساس محتواشون ذخیره میکنه و تا زمانی که فایل تغییر نکرده، نسخه‌ی ذخیره‌شده توسط گیت ثابت میمونه.\nجواب بلند اول کار که شما دستور git init رو اجرا می‌کنید، گیت داخل پوشه‌ی جاری یه فولدر .git می‌سازه که محتویاتش اینه:\n[meysampg@freedom git]$ git init Initialized empty Git repository in /srv/http/test/git/.git/ [meysampg@freedom git]$ ls -lah .git total 40K drwxr-xr-x 7 meysampg users 4.0K Mar 10 11:07 . drwxr-xr-x 3 meysampg users 4.0K Mar 10 11:07 .. drwxr-xr-x 2 meysampg users 4.0K Mar 10 11:07 branches -rw-r--r-- 1 meysampg users 92 Mar 10 11:07 config -rw-r--r-- 1 meysampg users 73 Mar 10 11:07 description -rw-r--r-- 1 meysampg users 23 Mar 10 11:07 HEAD drwxr-xr-x 2 meysampg users 4.0K Mar 10 11:07 hooks drwxr-xr-x 2 meysampg users 4.0K Mar 10 11:07 info drwxr-xr-x 4 meysampg users 4.0K Mar 10 11:07 objects drwxr-xr-x 4 meysampg users 4.0K Mar 10 11:07 refs چیزی که جواب سوال بالاست در پوشه‌ی objects نهفته‌ست.\nگیت یک سیستم محتوا-آدرسی‌ه، بدین معنی که گیت بدون توجه به نام فایل و بر اساس محتوا یک کلید منحصربفرد برای هر فایل می‌سازه (که همون هش SHA1ی هست که موقع کامیت کردن نشون میده) و اون رو داخل پوشه‌ی objects بر اساس قاعده‌ی زیر ذخیره می‌کنه:\nتو یه رشته بنویس blob و بعدش فاصله و بعدش طول محتوای فایل و بعدش کاراکتر نال رو بذار (مثلا blob 4\\0). به رشته‌ی بالا محتوای فایل رو بچسبون (مثلا blob 4\\0pgpg). از رشته‌ی مرحله‌ی ۲ یه هش SHA1 بگیر و از این به بعد این میشه شناسه‌ی این فایل (مثلا برای رشته‌ی بالا میشه c8f50ec947636ea1e848da84bc6e844f593426a1). دو کاراکتر اول رشته‌ی حاصل از مرحله‌ی ۳ رو بردار و داخل پوشه‌ی objects یه پوشه بساز. با ۳۸ کاراکتر باقی‌مانده یه فایل داخل پوشه‌ای که ساختی بساز (مثلا میشه objects/c8/f50ec947636ea1e848da84bc6e844f593426a1). با ZLib محتوای مرحله‌ی ۲ رو فشرده کن و اونو داخل فایلی که در مرحله‌ی ۴ ساختی ذخیره کن. از این به بعد برای هر کاری که به اسم فایل نیازه، گیت از اون هش حاصل از مرحله‌‌ی ۳ استفاده می‌کنه و تا زمانی که محتوای فایل تغییر نکرده باشه، این هش ثابت میمونه.\nپ.ن یک: گیت در حقیقت بیشتر از کارهایی که در بخش «جواب بلند» اومد رو برای ذخیره‌سازی انجام میده ولی برای من اون قسمتش دیگه اهمیتی نداره :)). بخش Git Internals کتاب گیت کل ماجرا رو خیلی روشن و شفاف توضیح داده.\n","wordCount":"392","inLanguage":"fa","datePublished":"2018-03-10T19:03:34+03:30","dateModified":"2018-03-10T19:03:34+03:30","author":{"@type":"Person","name":"میثم پورگنجی"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://pourganji.ir/fa/blog/how-git-store-files/"},"publisher":{"@type":"Organization","name":"SYN Packet","logo":{"@type":"ImageObject","url":"https://pourganji.ir/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://pourganji.ir/fa/ accesskey=h title="SYN Packet (Alt + H)">SYN Packet</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://pourganji.ir/fa/blog/ title=بلاگ><span>بلاگ</span></a></li><li><a href=https://pourganji.ir/fa/about/ title=درباره><span>درباره</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://pourganji.ir/fa/>خانه</a>&nbsp;»&nbsp;<a href=https://pourganji.ir/fa/blog/>بلاگ</a></div><h1 class="post-title entry-hint-parent">گیت چطور فایل‌ها رو ذخیره می‌کنه؟</h1><div class=post-meta><span title='2018-03-10 19:03:34 +0330 +0330'>10 مارس 2018</span>&nbsp;·&nbsp;<span>میثم پورگنجی</span>&nbsp;|&nbsp;<span>
<a href=https://github.com/meysampg/meysampg.github.io/edit/master/content/blog/how-git-store-files/index.md rel="noopener noreferrer edit" target=_blank>پیشنهاد تغییر</a></span></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>فهرست مطالب</span></summary><div class=inner><ul><li><a href=#%d8%ac%d9%88%d8%a7%d8%a8-%da%a9%d9%88%d8%aa%d8%a7%d9%87 aria-label="جواب کوتاه">جواب کوتاه</a></li><li><a href=#%d8%ac%d9%88%d8%a7%d8%a8-%d8%a8%d9%84%d9%86%d8%af aria-label="جواب بلند">جواب بلند</a></li></ul></div></details></div><div class=post-content><h2 id=جواب-کوتاه>جواب کوتاه<a hidden class=anchor aria-hidden=true href=#جواب-کوتاه>#</a></h2><p>گیت فایل‌ها رو بر اساس محتواشون ذخیره میکنه و تا زمانی که فایل تغییر نکرده، نسخه‌ی ذخیره‌شده توسط گیت ثابت میمونه.</p><h2 id=جواب-بلند>جواب بلند<a hidden class=anchor aria-hidden=true href=#جواب-بلند>#</a></h2><p>اول کار که شما دستور <code>git init</code> رو اجرا می‌کنید، گیت داخل پوشه‌ی جاری یه فولدر <code>.git</code> می‌سازه که محتویاتش اینه:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#f92672>[</span>meysampg@freedom git<span style=color:#f92672>]</span>$ git init
</span></span><span style=display:flex><span>Initialized empty Git repository in /srv/http/test/git/.git/
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>meysampg@freedom git<span style=color:#f92672>]</span>$ ls -lah .git
</span></span><span style=display:flex><span>total 40K
</span></span><span style=display:flex><span>drwxr-xr-x <span style=color:#ae81ff>7</span> meysampg users 4.0K Mar <span style=color:#ae81ff>10</span> 11:07 .
</span></span><span style=display:flex><span>drwxr-xr-x <span style=color:#ae81ff>3</span> meysampg users 4.0K Mar <span style=color:#ae81ff>10</span> 11:07 ..
</span></span><span style=display:flex><span>drwxr-xr-x <span style=color:#ae81ff>2</span> meysampg users 4.0K Mar <span style=color:#ae81ff>10</span> 11:07 branches
</span></span><span style=display:flex><span>-rw-r--r-- <span style=color:#ae81ff>1</span> meysampg users   <span style=color:#ae81ff>92</span> Mar <span style=color:#ae81ff>10</span> 11:07 config
</span></span><span style=display:flex><span>-rw-r--r-- <span style=color:#ae81ff>1</span> meysampg users   <span style=color:#ae81ff>73</span> Mar <span style=color:#ae81ff>10</span> 11:07 description
</span></span><span style=display:flex><span>-rw-r--r-- <span style=color:#ae81ff>1</span> meysampg users   <span style=color:#ae81ff>23</span> Mar <span style=color:#ae81ff>10</span> 11:07 HEAD
</span></span><span style=display:flex><span>drwxr-xr-x <span style=color:#ae81ff>2</span> meysampg users 4.0K Mar <span style=color:#ae81ff>10</span> 11:07 hooks
</span></span><span style=display:flex><span>drwxr-xr-x <span style=color:#ae81ff>2</span> meysampg users 4.0K Mar <span style=color:#ae81ff>10</span> 11:07 info
</span></span><span style=display:flex><span>drwxr-xr-x <span style=color:#ae81ff>4</span> meysampg users 4.0K Mar <span style=color:#ae81ff>10</span> 11:07 objects
</span></span><span style=display:flex><span>drwxr-xr-x <span style=color:#ae81ff>4</span> meysampg users 4.0K Mar <span style=color:#ae81ff>10</span> 11:07 refs
</span></span></code></pre></div><p>چیزی که جواب سوال بالاست در پوشه‌ی <code>objects</code> نهفته‌ست.</p><p>گیت یک سیستم محتوا-آدرسی‌ه، بدین معنی که گیت بدون توجه به نام فایل و بر اساس محتوا یک کلید منحصربفرد برای هر فایل می‌سازه (که همون هش SHA1ی هست که موقع کامیت کردن نشون میده) و اون رو داخل پوشه‌ی <code>objects</code> بر اساس قاعده‌ی زیر ذخیره می‌کنه:</p><ol><li>تو یه رشته بنویس blob و بعدش فاصله و بعدش طول محتوای فایل و بعدش کاراکتر نال رو بذار (مثلا <code>blob 4\0</code>).</li><li>به رشته‌ی بالا محتوای فایل رو بچسبون (مثلا <code>blob 4\0pgpg</code>).</li><li>از رشته‌ی مرحله‌ی ۲ یه هش SHA1 بگیر و از این به بعد این میشه شناسه‌ی این فایل (مثلا برای رشته‌ی بالا میشه <code>c8f50ec947636ea1e848da84bc6e844f593426a1</code>).</li><li>دو کاراکتر اول رشته‌ی حاصل از مرحله‌ی ۳ رو بردار و داخل پوشه‌ی <code>objects</code> یه پوشه بساز. با ۳۸ کاراکتر باقی‌مانده یه فایل داخل پوشه‌ای که ساختی بساز (مثلا میشه <code>objects/c8/f50ec947636ea1e848da84bc6e844f593426a1</code>).</li><li>با <code>ZLib</code> محتوای مرحله‌ی ۲ رو فشرده کن و اونو داخل فایلی که در مرحله‌ی ۴ ساختی ذخیره کن.</li></ol><p>از این به بعد برای هر کاری که به اسم فایل نیازه، گیت از اون هش حاصل از مرحله‌‌ی ۳ استفاده می‌کنه و تا زمانی که محتوای فایل تغییر نکرده باشه، این هش ثابت میمونه.</p><p>پ.ن یک: گیت در حقیقت بیشتر از کارهایی که در بخش «جواب بلند» اومد رو برای ذخیره‌سازی انجام میده ولی برای من اون قسمتش دیگه اهمیتی نداره :)). بخش <a href="https://l.vrgl.ir/r?ad=1&amp;l=https%3A%2F%2Fgit-scm.com%2Fbook%2Fen%2Fv2%2FGit-Internals-Plumbing-and-Porcelain&amp;si=dtcn6pnglma7&amp;st=post&amp;k=RBoS7Vq6AL%2FV5DZ1S1lW8Snxr9fdaEkiHxkUsei2Ma0%3D">Git Internals</a> کتاب گیت کل ماجرا رو خیلی روشن و شفاف توضیح داده.</p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=next href=https://pourganji.ir/fa/blog/addressable-operand-in-golang/><span class=title>صفحه بعدی »</span><br><span>آدرس‌پذیری در گو</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2026 <a href=https://pourganji.ir/fa/>SYN Packet</a></span> ·
<span>قدرت‌گرفته از
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="کپی";function s(){t.innerHTML="کپی شد!",setTimeout(()=>{t.innerHTML="کپی"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>